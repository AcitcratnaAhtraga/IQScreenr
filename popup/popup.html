<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IqGuessr Settings</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ðŸ§  IqGuessr</h1>
      <p class="subtitle">Analyze verbal IQ of tweets in real-time</p>
    </div>

    <div class="settings-section">
      <h2>Display Settings</h2>
      <div class="setting-item">
        <label class="switch-label">
          <input type="checkbox" id="showIQBadge" checked>
          <span class="switch-text" title="Color-coded badges appear next to tweets showing estimated verbal IQ scores (55-145 range). Badge colors reflect confidence levels, with higher confidence showing greener colors.">Show IQ Badge</span>
        </label>
        <p class="setting-desc">Display IQ scores next to tweets as you browse</p>
      </div>
      <div class="setting-item">
        <label class="switch-label">
          <input type="checkbox" id="showRealtimeBadge" checked>
          <span class="switch-text" title="See live IQ estimates while typing in compose boxes, updating as you type.">Show Real-time IQ Badge</span>
        </label>
        <p class="setting-desc">Display live IQ score while typing in compose boxes</p>
      </div>
      <div class="setting-item setting-item-large">
        <label class="switch-label switch-label-large">
          <input type="checkbox" id="enableIQGuessr" class="switch-large">
          <span class="switch-text switch-text-large" title="Guess IQ scores before they're calculated! Score points based on accuracy, with higher confidence guesses earning more points. Track your total score and view detailed stats by hovering over (desktop) or clicking (mobile) the score badge on profile pages or in settings.">ðŸŽ® IQ Guessr</span>
        </label>
        <p class="setting-desc">Guess IQ scores before they're calculated! Score points based on accuracy</p>
        <div id="iqGuessrScore" class="iq-guessr-score" style="display: none;">
          <span class="score-label">Score:</span>
          <span class="score-value" id="iqGuessrScoreValue">0</span>
        </div>
      </div>
      <div class="setting-item">
        <label class="switch-label">
          <input type="checkbox" id="enableDebugLogging" checked>
          <span class="switch-text">Enable Debug Logging</span>
        </label>
      </div>
    </div>


    <div class="info-section">
      <h2>How It Works</h2>
      <div class="info-content">
        <p><strong>IqGuessr</strong> analyzes tweet text in real-time using a research-based estimator trained on graded samples. It evaluates tweets across 4 key dimensions:</p>
        <ul>
          <li><strong>Vocabulary Sophistication:</strong> Estimates word difficulty from length and syllable complexity using Age of Acquisition proxies</li>
          <li><strong>Lexical Diversity:</strong> Measures word variety using Type-Token Ratio (TTR)</li>
          <li><strong>Sentence Complexity:</strong> Analyzes average words per sentence and sentence structure</li>
          <li><strong>Grammatical Precision:</strong> Evaluates syntax complexity via punctuation patterns and clause usage</li>
        </ul>

        <div class="privacy-notice">
          <span class="privacy-icon">ðŸ”’</span>
          <div class="privacy-text">
            <strong>Fully client-side:</strong> All processing happens in your browser. No data is sent to any server.
          </div>
        </div>
        <div class="privacy-notice data-notice">
          <span class="privacy-icon">ðŸ“‹</span>
          <div class="privacy-text">
            <strong>Data Collection Notice:</strong> This extension processes publicly available Twitter handles and numerical scores. No tweet text or private information is collected or stored. We only store: IQ scores (numeric), Twitter handles (public usernames), guess history (for IQGuessr game mode), and limited metadata (timestamps, language, hashtags).
          </div>
        </div>
      </div>
    </div>

    <div class="color-legend">
      <h2>Color Coding</h2>
      <div class="legend-items" id="iqLegend" style="display: none;">
        <div class="legend-item">
          <span class="legend-color" style="background-color: #d32f2f;"></span>
          <span>60-70: Very Simple</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #f57c00;"></span>
          <span>70-85: Simple</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #fbc02d;"></span>
          <span>85-95: Below Average</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #fdd835;"></span>
          <span>95-105: Average</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #c5e1a5;"></span>
          <span>105-115: Above Average</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #81c784;"></span>
          <span>115-125: High</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #66bb6a;"></span>
          <span>125-135: Very High</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #4caf50;"></span>
          <span>135-145: Superior</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #2e7d32;"></span>
          <span>145+: Exceptional</span>
        </div>
      </div>
      <div class="legend-items" id="confidenceLegend">
        <div class="legend-item">
          <span class="legend-color" style="background-color: #d32f2f;"></span>
          <span>0-10%: Very Low Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #f57c00;"></span>
          <span>10-20%: Low Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #fb8c00;"></span>
          <span>20-30%: Below Average Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #fbc02d;"></span>
          <span>30-40%: Average Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #fdd835;"></span>
          <span>40-50%: Above Average Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #c5e1a5;"></span>
          <span>50-60%: Good Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #81c784;"></span>
          <span>60-70%: High Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #66bb6a;"></span>
          <span>70-80%: Very High Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #4caf50;"></span>
          <span>80-90%: Excellent Confidence</span>
        </div>
        <div class="legend-item">
          <span class="legend-color" style="background-color: #2e7d32;"></span>
          <span>90-100%: Maximum Confidence</span>
        </div>
      </div>
    </div>

    <div class="footer">
      <button id="resetSettings" class="btn-secondary">Reset to Defaults</button>
      <div class="footer-info">
        <p class="version">Version 1.1.0</p>
        <p class="status" id="saveStatus"></p>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>

